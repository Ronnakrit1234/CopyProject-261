<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CSTU Pantip ‚Äî Dashboard (guest)</title>
  <link rel="stylesheet" href="/css/dashboard-style.css" />
  <style>
    /* ‡∏ó‡∏≥‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î Guest ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏¥‡∏î/‡∏Å‡∏î‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ */
    .nav__link--disabled {
      opacity: .6;
      cursor: not-allowed;
      background: transparent !important;
      outline: 1px dashed rgba(255,255,255,.18);
    }
    .nav__link--disabled:hover { filter: none }

    /* ‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏ô‡πÄ‡∏°‡∏ô‡∏π‡∏ß‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏•‡∏¥‡∏á‡∏Å‡πå */
    button.nav__link { width: 100%; text-align: left }

    /* ‡∏õ‡∏∏‡πà‡∏° Log in ‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡∏ß‡∏≤ */
    .helperbar__right .btn {
      background: linear-gradient(135deg, var(--accent), #7de3ff);
      color: #001018;
    }

    /* ‡πÅ‡∏ñ‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÄ‡∏•‡πá‡∏Å ‡πÜ */
    .toast--warn {
      border-color: rgba(255,200,0,.4);
      box-shadow: 0 10px 30px rgba(255,200,0,.15);
    }

    /* ‡∏õ‡∏∏‡πà‡∏° log-in ‡∏ó‡∏µ‡πà sidebar */
    #loginBtnSidebar {
      color: aliceblue;
    }

    /* ‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î guest: ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡πÑ‡∏î‡πâ */
    .card.card--guest {
      cursor: not-allowed;
      user-select: none;
      opacity: 0.9;
      transition: opacity .2s ease;
    }
    .card.card--guest:hover {
      opacity: 0.8;
    }
  </style>
</head>
<body class="page theme-dark">
  <!-- Sidebar (dark) -->
  <aside class="sidebar sidebar--black">
    <div class="sidebar__section">
      <!-- ‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡∏û‡∏≤‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ login -->
      <a href="/index.html" class="logo logo--img" aria-label="CSTU Pantip">
        <img src="/source/panthip.png" alt="CSTU Pantip logo" class="brand-img">
      </a>

      <nav class="nav" aria-label="Sidebar">
        <a class="nav__link is-active" href="#"><span>üè†</span> Overview</a>

        <!-- ‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏ó‡∏ô write review (‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô) -->
        <button
          type="button"
          class="nav__link nav__link--disabled"
          id="guestWriteDisabled"
          aria-disabled="true"
          tabindex="-1"
          title="Please log in to write review">
          <span>üîí</span> Please log in to write review
        </button>
      </nav>
    </div>

    <div class="sidebar__section">
      <a class="logout" href="/index.html" id="loginBtnSidebar">Log-in</a>
    </div>
  </aside>

  <!-- Main -->
  <main class="main">
    <header class="toolbar">
      <div class="toolbar__left">
        <button class="btn btn--circle" id="btnBack" title="Back" aria-label="Back">‚Äπ</button>
        <h1 class="title">Dashboard (read mode)</h1>
        <span class="badge" id="resultMeta" aria-live="polite">0 reviews</span>
      </div>

      <div class="toolbar__right">
        <div class="search" role="search">
          <span aria-hidden="true">üîé</span>
          <input id="searchInput" type="text" placeholder="Search course / professor / review‚Ä¶" autocomplete="off" />
        </div>
      </div>
    </header>

    <section class="filterbar">
      <div class="filters" id="starFilters" role="group" aria-label="Filter by star">
        <button class="chip" data-star="5">‚≠ê 5</button>
        <button class="chip" data-star="4">‚≠ê 4</button>
        <button class="chip" data-star="3">‚≠ê 3</button>
        <button class="chip" data-star="2">‚≠ê 2</button>
        <button class="chip" data-star="1">‚≠ê 1</button>
        <button class="chip chip--ghost" id="clearFilters" title="Clear filters">Clear</button>
      </div>
    </section>

    <section class="helperbar">
      <div class="helperbar__left">
        <span class="hint">Tip:</span> ‡πÉ‡∏ä‡πâ‡∏ä‡πà‡∏≠‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ + ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏î‡∏≤‡∏ß ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡πÉ‡∏à (‡πÇ‡∏´‡∏°‡∏î‡∏≠‡πà‡∏≤‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß)
      </div>
      <div class="helperbar__right">
        <a class="btn" href="/index.html" id="loginCtaTop">Log in</a>
      </div>
    </section>

    <section id="reviewGrid" class="grid"></section>
  </main>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <!-- ‚úÖ Guest-only Dashboard Script -->
  <script src="/javascript/guest-dashboard.js"></script>

  <script>
    // ‡∏õ‡∏∏‡πà‡∏° Back: ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ history ‡πÉ‡∏´‡πâ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤ Login
    document.getElementById('btnBack')?.addEventListener('click', ()=>{
      history.length > 1 ? history.back() : (window.location.href='/index.html');
    });

    // ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏°‡∏ó‡∏µ‡πà‡∏õ‡∏¥‡∏î‡πÑ‡∏ß‡πâ‡πÉ‡∏´‡πâ‡∏Ç‡∏∂‡πâ‡∏ô‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÅ‡∏ó‡∏ô
    const disabledWrite = document.getElementById('guestWriteDisabled');
    const toast = document.getElementById('toast');
    function warnLoginFirst(){
      if (!toast) return;
      toast.textContent = 'Please log in to write a review';
      toast.classList.add('is-show','toast--warn');
      setTimeout(()=> toast.classList.remove('is-show','toast--warn'), 1800);
    }
    disabledWrite?.addEventListener('click', warnLoginFirst);
  </script>
</body>
</html>
