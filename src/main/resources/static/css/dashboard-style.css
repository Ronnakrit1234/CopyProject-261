/* ================= THEME TOKENS ================= */
:root{
  /* Light (Dashboard) */
  --bg: #fffaf2;
  --bg-grad-top: #fff7ec;
  --bg-grad-bot: #ffe9bc;
  --surface: #ffffff;
  --surface-2: #fff7ee;
  --text: #1f2937;
  --muted: #6b7280;
  --line: rgba(0,0,0,.08);

  --brand: #ff8a1f;   /* ส้ม */
  --brand-2: #ffd057; /* เหลือง */
  --accent: #0ea5e9;
  --danger: #ef4444;

  --radius: 14px;
  --radius-lg: 18px;

  --shadow-1: 0 8px 20px rgba(17, 24, 39, .06);
  --shadow-2: 0 12px 36px rgba(17, 24, 39, .10);
}

/* ---------- DARK THEME (Guest Dashboard) ---------- */
.theme-dark{
  --bg: #0b0b0d;
  --bg-grad-top: #0b0b0d;
  --bg-grad-bot: #111114;
  --surface: #16161a;
  --surface-2: #1e1e23;
  --text: #e8e8ef;
  --muted: #b0b0bd;
  --line: rgba(255,255,255,.08);

  --brand: #ff7a1a;
  --brand-2: #ffb54d;
  --accent: #00c2ff;
  --danger: #ff4d4d;

  --shadow-1: 0 6px 18px rgba(0,0,0,.25);
  --shadow-2: 0 10px 30px rgba(0,0,0,.35);
}

/* ================= RESET ================= */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans Thai", "Noto Sans", Arial;
  color:var(--text);
  background:
    radial-gradient(1200px 700px at 16% -10%, rgba(255,208,87,.55), transparent 70%),
    radial-gradient(1000px 600px at 90% 0%, rgba(255,138,31,.40), transparent 60%),
    linear-gradient(180deg, var(--bg-grad-top) 0%, var(--bg-grad-bot) 100%);
}
.theme-dark{
  background:
    radial-gradient(1000px 600px at 85% -10%, rgba(255,138,31,.15), transparent 60%),
    linear-gradient(180deg, var(--bg-grad-top), var(--bg-grad-bot));
}

img{max-width:100%;display:block}
button{font:inherit}
a{color:inherit;text-decoration:none}

/* ================= LAYOUT ================= */
.page {
  display: flex;
  min-height: 100dvh;
  overflow: hidden;
}

/* Sidebar */
.sidebar{
  position:sticky; top:0; align-self:flex-start;
  height:100dvh; width:280px;
  background:var(--surface);
  border-right:1px solid var(--line);
  display:flex; flex-direction:column; justify-content:space-between;
  padding:22px 18px;
  box-shadow: var(--shadow-1);
}
.sidebar--orange{
  background:
    linear-gradient(180deg, rgba(255,138,31,.16), rgba(255,208,87,.22) 55%, rgba(255,255,255,.9) 100%),
    var(--surface);
}
.theme-dark .sidebar--black{
  background:
    linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.2)),
    var(--surface);
}

.sidebar__section + .sidebar__section{margin-top:18px}
.logo--img .brand-img{ width:164px; height:auto; filter: drop-shadow(0 6px 18px rgba(255,138,31,.25)) }

.nav{margin-top:18px;display:flex;flex-direction:column;gap:8px}
.nav__link{
  padding:12px 14px; border-radius:12px;
  display:flex; align-items:center; gap:10px;
  background:transparent; transition:all .15s ease; color:var(--text);
}
.nav__link:hover{background:rgba(255,138,31,.10)}
.nav__link.is-active{
  background:linear-gradient(180deg, rgba(255,208,87,.5), rgba(255,138,31,.35));
  outline:1px solid rgba(255,138,31,.45);
}

/* Avatar + logout */
.avatar{
  width:46px;height:46px;border-radius:50%;
  background:linear-gradient(135deg, var(--surface), var(--surface-2));
  border:1px solid var(--line);
  display:grid;place-items:center;
  box-shadow:var(--shadow-1);
  margin-bottom:10px;
}
.avatar__icon{font-size:22px}
.logout{
  display:inline-block;margin-top:4px; padding:9px 12px;border-radius:10px;
  background:var(--surface); border:1px solid var(--line);
}
.logout:hover{filter:brightness(1.04)}

/* Main */
.main {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  height: 100vh;
  overflow-y: auto;
}

/* Toolbar */
.toolbar{
  position:sticky; top:0; z-index:20;
  display:flex; align-items:center; justify-content:space-between; gap:16px;
  padding:14px 22px;
  background:
    linear-gradient(180deg, rgba(255,208,87,.35), rgba(255,255,255,.85));
  border-bottom:1px solid var(--line);
  backdrop-filter:saturate(160%) blur(8px);
  box-shadow: 0 6px 16px rgba(255,138,31,.12);
}
.theme-dark .toolbar{
  background: linear-gradient(180deg, rgba(0,0,0,.6), rgba(0,0,0,.35));
  box-shadow:none;
}

.toolbar__left{display:flex; align-items:center; gap:12px}
.title{font-size:22px; font-weight:800; letter-spacing:.2px}
.badge{
  font-size:12px; padding:6px 10px; border-radius:999px;
  background:var(--surface); color:var(--muted); border:1px solid var(--line);
}
.toolbar__right{display:flex; align-items:center; gap:10px}

/* Controls */
.btn{
  padding:10px 14px; border:none; cursor:pointer;
  border-radius:12px; color:#2b1900;
  background:linear-gradient(135deg, var(--brand), var(--brand-2));
  box-shadow:0 6px 16px rgba(255,138,31,.28);
  transition:transform .06s ease, filter .2s ease, box-shadow .2s ease;
}
.btn:hover{filter:brightness(1.04)}
.btn:active{transform:translateY(1px)}
.btn--circle{
  width:38px;height:38px;border-radius:999px;
  background:var(--surface); color:var(--text); border:1px solid var(--line);
  box-shadow: var(--shadow-1);
}

.search{
  display:flex; align-items:center; gap:10px;
  padding:10px 12px; border-radius:12px;
  background:var(--surface); color:var(--muted);
  border:1px solid var(--line);
  min-width:280px; box-shadow: var(--shadow-1);
}
.search input{ all:unset; color:var(--text); width:100% }

/* Filterbar */
.filterbar{
  padding:12px 22px; border-bottom:1px solid var(--line);
  background:
    linear-gradient(180deg, rgba(255,208,87,.55), rgba(255,138,31,.18) 75%, rgba(255,255,255,0));
}
.theme-dark .filterbar{
  background: linear-gradient(180deg, rgba(255,138,31,.16), transparent);
}
.filters{display:flex;flex-wrap:wrap; gap:8px}
.chip{
  padding:8px 12px; border-radius:999px; cursor:pointer;
  background:var(--surface); color:var(--text); border:1px solid var(--line);
}
.chip:hover{background:var(--surface-2)}
.chip.is-active{
  background:linear-gradient(135deg, rgba(255,208,87,.9), rgba(255,138,31,.75));
  color:#2b1900; border-color:rgba(255,138,31,.55);
}
.chip--ghost{
  background:transparent; border:1px dashed rgba(0,0,0,.22); color:var(--muted);
}
.theme-dark .chip--ghost{ border-color: rgba(255,255,255,.25) }

/* Helper bar */
.helperbar{
  padding:10px 22px; display:flex; align-items:center; justify-content:space-between;
  color:var(--muted); font-size:14px;
}
.hint{color:#a16207; font-weight:800}
.theme-dark .hint{ color: var(--accent) }

/* Grid */
.grid{
  padding:20px 22px 26px;
  display:grid; gap:16px;
  grid-template-columns: repeat(12, 1fr);
}
@media (max-width: 1400px){ .grid{grid-template-columns: repeat(9,1fr)} }
@media (max-width: 1120px){ .grid{grid-template-columns: repeat(6,1fr)} }
@media (max-width: 780px){ .grid{grid-template-columns: repeat(4,1fr)} }
@media (max-width: 560px){ .grid{grid-template-columns: repeat(2,1fr)} }

/* Card */
.card{
  grid-column: span 4;
  background: var(--surface);
  border:1px solid var(--line);
  border-radius:var(--radius-lg);
  box-shadow: var(--shadow-1);
  display:flex; flex-direction:column;
  min-height:220px;
  overflow:hidden;
  position:relative;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(255, 138, 31, 0.2);
}

.card__head{
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  padding:14px 16px; border-bottom:1px solid var(--line);
  background: linear-gradient(180deg, rgba(255,255,255,.85), rgba(255,255,255,.6));
}
.theme-dark .card__head{
  background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
}
.card__course{font-weight:800}
.card__meta{color:var(--muted); font-size:12px}
.card__body{padding:14px 16px; color:var(--text); flex:1}
.card__footer{
  padding:12px 16px; display:flex; align-items:center; justify-content:space-between; gap:8px;
  border-top:1px solid var(--line);
}
.stars{letter-spacing:.5px}
.kbd{
  padding:4px 8px; border-radius:8px; background:var(--surface-2);
  color:var(--muted); font-size:12px; border:1px solid var(--line);
}

/* Avatar in card */
.card__topRight{
  display:flex; align-items:center; gap:10px;
}
.card__avatar{
  width:36px; height:36px; border-radius:50%;
  object-fit:cover;
  border:1px solid var(--line);
  box-shadow: var(--shadow-1);
}

/* Footer avatar + name */
.card-avatar {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  margin-right: 6px;
  object-fit: cover;
  border: 1px solid var(--line);
  box-shadow: var(--shadow-1);
}

.footer-left {
  display: flex;
  align-items: center;
  gap: 6px;
}

.footer-left.anonymous span.kbd {
  color: #999;
  font-style: italic;
}

/* Empty */
.empty{
  grid-column: 1 / -1; text-align:center;
  padding:46px 18px;
  border:1px dashed rgba(0,0,0,.18);
  border-radius:var(--radius-lg);
  color:var(--muted);
  background:var(--surface);
}
.theme-dark .empty{
  border-color: rgba(255,255,255,.18);
}

/* Toast */
.toast{
  position:fixed; right:18px; bottom:18px; z-index:50;
  padding:12px 14px; border-radius:12px; min-width:180px;
  background:var(--surface); color:var(--text);
  border:1px solid var(--line);
  box-shadow: var(--shadow-2);
  opacity:0; transform:translateY(8px);
  transition: all .25s ease;
  pointer-events:none;
}
.toast.is-show{opacity:1; transform:translateY(0)}

/* Light Theme Customizations */
.page:not(.theme-dark) body,
.page:not(.theme-dark){
  background: linear-gradient(180deg,#fff9ee 0%,#fff3d6 40%,#fff8e9 100%);
}

.page:not(.theme-dark) .sidebar--orange{
  background: linear-gradient(180deg, #ffcc80 0%, #ffe0b2 60%, #fffaf2 100%);
}

.page:not(.theme-dark) .toolbar{
  background: linear-gradient(180deg, #ffd16b 0%, #ffb347 90%);
  color:#4b2600;
}
.page:not(.theme-dark) .filterbar{
  background: linear-gradient(180deg, #fff4dc 0%, #ffe3a0 100%);
}

.page:not(.theme-dark) .search{
  background:#fff;
  border:1px solid rgba(255,138,31,.3);
  box-shadow:0 2px 6px rgba(0,0,0,.05);
}
.page:not(.theme-dark) .btn--primary{
  background:linear-gradient(135deg,#ff9900,#ffd451);
  box-shadow:0 3px 10px rgba(255,138,31,.3);
  color:#2b1900;
}

.page:not(.theme-dark) .title{ font-size:24px; color:#3a2000 }
.page:not(.theme-dark) .card__course{ color:#2f1a00 }
.page:not(.theme-dark) .card__meta{ color:#9c8b70 }
.page:not(.theme-dark) .helperbar{ font-size:15px; color:#5a4a2d }

.page:not(.theme-dark) .card{
  background:#fffefb;
  box-shadow:0 4px 12px rgba(0,0,0,.08);
  border:1px solid rgba(0,0,0,.05);
}
.page:not(.theme-dark) .card::before{
  content:""; position:absolute; inset:0 0 0 auto; width:6px; left:0;
  background:linear-gradient(180deg, var(--brand), var(--brand-2));
  opacity:.8;
}
